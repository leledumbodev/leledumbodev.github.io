{"version":3,"sources":["neptune/neptune.js","Header.js","Rows.js","lib.js","index.js","App.js"],"names":["_react","_interopRequireWildcard","__webpack_require__","_reactNativeWeb","_Header","_interopRequireDefault","_Rows","axios","require","moment","lib","HOST","Screen","_this","_classCallCheck2","default","this","_possibleConstructorReturn2","_getPrototypeOf2","call","state","show","rows1","rows2","_this2","_tick","setInterval","refresh","clearInterval","_busyRefresh","_this3","refreshList","then","refreshList2","_this4","getKDE","kdes","rows","i","length","obj","code","species","production","byCatch","ts","createdTimeStamp","row1","row2","row3","format","push","id","setState","_this5","getVerifiedKDE","verifiedBy","split","tsStr","vts","verifiedTimeStamp","_this6","console","log","postVerifyKDE","ok","alert","list","_this7","createElement","View","style","flex","alignItems","justifyContent","ActivityIndicator","onClickQrCode","onClickVerify","mode","list2","title","email","history","props","flexDirection","padding","Text","fontWeight","textAlign","url","Promise","resolve","reject","get","response","data","catch","error","post","$class","kde","verificator","Component","Button","onPress","doLogout","color","paddingHorizontal","paddingVertical","borderBottomWidth","height","btnText","FlatList","keyExtractor","item","index","ItemSeparatorComponent","backgroundColor","renderItem","_ref","btn","key","onLayout","event","nativeEvent","layout","h","overflow","renderRows","module","exports","delay","ms","setTimeout","text","Platform","OS","_reactDom","_App","ReactDOM","render","document","getElementById","_reactRouter","_neptune","App","MemoryRouter","Route","path","exact","component","Neptune","hotWrapper","hot"],"mappings":"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","file":"static/js/main.87560b6d.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  View,\n  Button,\n  TextInput,\n  Text,\n  ActivityIndicator\n} from 'react-native';\n\nimport Header from '../Header';\nimport Rows from '../Rows';\n\nconst axios = require('axios');\nconst moment = require('moment');\nconst lib = require('../lib');\nconst HOST = lib.HOST;\n\nexport default class Screen extends Component {\n  constructor() {\n    super();\n    this.state = {\n      show:\"list\",\n      rows1:[],\n      rows2:[],\n    }\n  }\n\n  componentDidMount() {\n    this._tick = setInterval(()=>this.refresh(),1000);\n  }\n\n  componentWillUnmount() {\n    if(this._tick) clearInterval(this._tick);\n    if(this._busyRefresh) this._busyRefresh = null;\n  }\n\n  refresh() {\n    if(this._busyRefresh) return;\n    this._busyRefresh = true;\n\n    this.refreshList()\n    .then(()=>{\n      return this.refreshList2();\n    })\n    .then(()=>{\n      this._busyRefresh = false;\n    });\n  }\n\n  refreshList() {\n    return this.getKDE()\n      .then(kdes=>{\n        if(!kdes) return;\n\n        const rows = [];\n\n        for(let i=0;i<kdes.length;i++) {\n          const obj = kdes[i];\n          const code = obj.code;\n          const species = obj.species;\n          const production = obj.production;\n          const byCatch = obj.byCatch;\n          const ts = obj.createdTimeStamp;\n          const tsStr = moment(ts).format(\"DD MMM YYYY, HH:mm:ss\");\n          // const verifiedBy = (obj.verifiedBy).split('#')[1];\n\n          const row1 = code;\n          let row2 = \"species:\"+species+\" prod:\"+production+\" byCatch:\"+byCatch;\n          let row3 = \"created on\"+tsStr;\n          rows.push({\n            id:obj.code,\n            row1:row1,\n            row2:row2,\n            row3:row3,\n            obj:obj\n          });\n        }\n\n\n        this.setState({rows1:rows});\n      });\n  }\n\n  refreshList2() {\n    return this.getVerifiedKDE()\n      .then(kdes=>{\n        if(!kdes) return;\n\n        const rows = [];\n\n        for(let i=0;i<kdes.length;i++) {\n          const obj = kdes[i];\n          const code = obj.code;\n          const species = obj.species;\n          const production = obj.production;\n          const byCatch = obj.byCatch;\n          const verifiedBy = (obj.verifiedBy).split('#')[1];\n          const ts = obj.createdTimeStamp;\n          const tsStr = moment(ts).format(\"DD MMM YYYY, HH:mm:ss\");\n          const vts = obj.verifiedTimeStamp;\n          const vtsStr = moment(vts).format(\"DD MMM YYYY, HH:mm:ss\");\n\n          const row1 = code;\n          const row2 = \"species:\"+species+\" prod:\"+production+\" byCatch:\"+byCatch;\n          const row3b = \"\\ncreated on\"+tsStr+\"\\nverified on:\"+vtsStr;\n          const row3 = \"verified by:\" + verifiedBy + row3b;\n          rows.push({\n            id:obj.code,\n            row1:row1,\n            row2:row2,\n            row3:row3,\n            obj:obj\n          });\n        }\n\n\n        this.setState({rows2:rows});\n      });\n  }\n\n  onClickVerify(obj) {\n    console.log(obj);\n    this.setState({show:'busy'});\n    const code = obj.code;\n    this.postVerifyKDE(code)\n    .then(ok=>{\n      if(!ok) {        \n        lib.alert('Transaction failed!');\n        this.setState({show:'list'});\n      } else {\n        lib.alert('Transaction success!');\n        this.setState({show:'list'});\n      }\n    });\n  }\n\n  render() {\n\n    let list;\n    if(this.state.show === \"busy\") \n      list = <View style={{flex:1,alignItems:'center',justifyContent:'center'}}><ActivityIndicator /></View>;\n    else {\n      const rows = this.state.rows1;\n\n      list = (\n        <View style={{flex:1}}>\n          <Rows rows={rows} onClickQrCode={obj=>this.onClickVerify(obj)} mode=\"neptune\" />\n        </View>\n      );\n    }\n\n    const rows2 = this.state.rows2;\n    const list2 = (\n      <View style={{flex:1}}>\n        <Rows rows={rows2} onClickQrCode={obj=>console.log(obj)} mode=\"non-neptune\" />\n      </View>\n    );\n\n    return (\n      <View style={{flex:1}}>\n        <Header title=\"VERIFIKATOR MENU\" email=\"neptune@sea.com\" history={this.props.history} />\n        <View style={{flex:1,flexDirection:'row'}}>          \n          <View style={{flex:1,padding:10}}>\n            <Text style={{fontWeight:'bold',textAlign:'center'}}>Unverified KDE(s)</Text>\n            {list}\n          </View>  \n          <View style={{flex:1,padding:10}}>\n            <Text style={{fontWeight:'bold',textAlign:'center'}}>Verified KDE(s)</Text>\n            {list2}\n          </View>  \n        </View>        \n      </View>\n    );\n  }\n\n  getKDE() {\n    const url = HOST+'/api/KDE';\n    console.log(url);\n    return new Promise((resolve,reject)=>{\n      axios.get(url)\n      .then(response => {\n        resolve(response.data);\n      })\n      .catch(error => {\n        console.error(error);\n        resolve(null);\n      })  \n    });\n  }\n\n  getVerifiedKDE() {\n    const url = HOST+'/api/VerifiedKDE';\n    return new Promise((resolve,reject)=>{\n      axios.get(url)\n      .then(response => {\n        resolve(response.data);\n      })\n      .catch(error => {\n        console.error(error);\n        resolve(null);\n      })  \n    });\n  }\n\n  postVerifyKDE(code) {\n    const url = HOST+'/api/VerifyKDE';\n    return new Promise((resolve,reject)=>{\n      axios.post(url,{\n        \"$class\": \"com.altermyth.mynetwork.VerifyKDE\",\n        \"kde\": \"resource:com.altermyth.mynetwork.KDE#\"+code,\n        \"verificator\": \"resource:com.altermyth.mynetwork.Verificator#neptune@sea.com\"\n      })\n      .then(response => {\n        resolve(true);\n      })\n      .catch(error => {\n        console.log(error);\n        resolve(false);\n      })  \n    });\n  }\n}","import React, { Component } from 'react';\nimport {\n  Text,\n  View,\n  Button\n} from 'react-native';\n\n// const db = require('./db');\n\nexport default class Screen extends Component {\n  constructor() {\n    super();\n    this.state = {\n    }\n  }\n\n  doLogout() {\n    // db.logout()\n    // .then(()=>{\n    //   this.props.history.goBack();\n    // });\n  }\n\n\n  render() {\n    let btnClose = <Button style={{flex:1}} title=\"EXIT\" onPress={()=>this.doLogout()} color=\"gray\"/>;\n    btnClose = null;\n\n    return (\n      <View style={{flexDirection:\"row\",paddingHorizontal:5,paddingVertical:10,borderBottomWidth:1}}>\n        <View style={{flexDirection:\"column\",flex:1}}>\n          <Text style={{fontWeight:'bold'}}>{this.props.title}</Text>\n          <Text>{this.props.email}</Text>\n        </View>\n        <View>\n          {btnClose}\n        </View>\n      </View>\n    );\n  }\n\n}","import React, { Component } from 'react';\nimport {\n  Text,\n  View,\n  Button,\n  FlatList\n} from 'react-native';\n\n// const db = require('./db');\n\nexport default class Screen extends Component {\n  constructor() {\n    super();\n    this.state = {\n      height:0\n    }\n  }\n\n  componentDidMount() {\n    // db.getProfile()\n    // .then(profile => {\n    //   this.setState({email:profile.email});\n    // });\n  }\n\n  renderRows(rows) {\n    let btnText = \"SHOW QRCODE\";\n    if(this.props.mode === \"supplier\") btnText = \"SELL FISH\";\n    if(this.props.mode === \"neptune\") btnText = \"VERIFY\";\n\n\n\n    return (\n      <FlatList\n        style={{flex:1}}\n        data={rows}\n        keyExtractor={(item,index)=>(''+item.id)}\n        ItemSeparatorComponent={()=><View style={{height:1,backgroundColor:\"gainsboro\"}} />}\n        renderItem={({item,index}) => {\n\n          let btn = (\n            <View style={{alignItems:\"center\",justifyContent:\"center\"}}>\n              <Button title={btnText} onPress={()=>this.props.onClickQrCode(item.obj)} />\n            </View>\n          );\n    \n          if(this.props.mode === \"tracker\" || this.props.mode === \"non-neptune\" ) btn = null;\n\n          return (\n            <View key={index} style={{paddingHorizontal:5,paddingVertical:10}}>\n              <View style={{flexDirection:\"row\"}}>\n                <View style={{flex:1}}>\n                  <Text>{item.row1}</Text>\n                  <Text>{item.row2}</Text>\n                  <Text>{item.row3}</Text>\n                </View>\n                {btn}\n              </View>\n            </View>\n          );\n        }}\n      />\n    );\n  }\n\n  render() {\n    if(this.state.height === 0)\n      return (\n        <View style={{flex:1}} onLayout={(event=>{\n          const {height} = event.nativeEvent.layout;\n          this.setState({height});\n        })}>\n        </View>\n      );\n    \n    const h = this.state.height;\n    const rows = this.props.rows;\n\n    return (\n      <View style={{height:h,overflow:'hidden'}} >\n        {this.renderRows(rows)}\n      </View>\n    );\n  }\n}","import {\n  Platform,\n} from 'react-native';\n\nmodule.exports.delay = delay;\nmodule.exports.alert = platformAlert;\nmodule.exports.HOST = 'https://paketviral.herokuapp.com'; // 'http://13.82.172.225:3000';\n\n\nfunction delay(ms) {\n  return new Promise((resolve, reject) => {\n    setTimeout(()=>{\n      resolve();\n    },ms);\n  }); \n}\n\nfunction platformAlert(text) {\n  if (Platform.OS === 'web') {\n    alert(text)\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","import React, { Component } from 'react';\nimport {\n  View,\n  Platform,\n} from 'react-native';\nimport { MemoryRouter as Router, Route } from \"react-router\";\nimport Neptune from './neptune/neptune';\n// import Login from './Login';\n// import Supplier from './Supplier';\n// import QrScanner from './QrScanner';\n// import QrCode from './QrCode';\n// import Tracker from './Tracker';\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <View style={{flex:1}}>\n          <Route path=\"/\" exact component={Neptune} />\n        </View>\n      </Router>\n    );\n  }\n}\n\nlet hotWrapper = () => () => App;\nif (Platform.OS === 'web') {\n  const { hot } = require('react-hot-loader');\n  hotWrapper = hot;\n}\nexport default hotWrapper(module)(App);\n"],"sourceRoot":""}